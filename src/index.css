@tailwind base;
@tailwind components;
@tailwind utilities;

/* 基礎樣式 */
html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    'Helvetica Neue', Arial, 'Noto Sans TC', sans-serif;
}

/* 隱藏滾動條但保持可滾動 */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* 模糊保護效果 */
.blur-protect {
  filter: blur(10px);
  transition: filter 0.15s ease-in-out;
}

.blur-protect.revealed {
  filter: blur(0);
}

/* 浮水印 */
.watermark {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0.1;
  font-size: 1.5rem;
  font-weight: bold;
  transform: rotate(-30deg);
  user-select: none;
}

/* 訊息氣泡 */
.message-bubble {
  @apply rounded-2xl px-4 py-2 max-w-[80%];
}

.message-bubble.sent {
  @apply bg-primary-600 text-white ml-auto rounded-br-md;
}

.message-bubble.received {
  @apply bg-dark-700 text-white mr-auto rounded-bl-md;
}

/* 安全區域（iPhone 瀏海） */
@supports (padding-top: env(safe-area-inset-top)) {
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* PWA 全螢幕時隱藏 Safari UI */
@media (display-mode: standalone) {
  body {
    overscroll-behavior-y: contain;
  }
}

/* 禁用長按選取（防止意外觸發系統選單） */
.no-select {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* 觸控反饋 */
.touch-feedback {
  @apply active:opacity-70 transition-opacity duration-100;
}
